# News Processing Service

–ü—Ä–æ—î–∫—Ç ‚Äî —Ü–µ –±–µ–∫–µ–Ω–¥-—Å–µ—Ä–≤—ñ—Å –Ω–∞ **NestJS**, —è–∫–∏–π –ø—Ä–∏–π–º–∞—î –Ω–æ–≤–∏–Ω–∏ —á–µ—Ä–µ–∑ **Postman**,
–ø–µ—Ä–µ–¥–∞—î —ó—Ö —É **Gemini** –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö.  
–ü—ñ—Å–ª—è –æ–±—Ä–æ–±–∫–∏ –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–≤–Ω–∏–π —Å–ø–∏—Å–æ–∫ –Ω–æ–≤–∏–Ω —ñ–∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó.

---

## ‚úÖ –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

- –ü—Ä–∏–π–æ–º –Ω–æ–≤–∏–Ω —á–µ—Ä–µ–∑ **POST**-–∑–∞–ø–∏—Ç
- –û–±—Ä–æ–±–∫–∞ –Ω–æ–≤–∏–Ω –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **Gemini**
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–æ–≤–∏–Ω —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
- –û—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—Å—ñ—Ö –Ω–æ–≤–∏–Ω
- –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è —Å–ø–∏—Å–∫—É –Ω–æ–≤–∏–Ω

---

## üõ† –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **NestJS**
- **TypeScript**
- **Gemini API**
- **Postman**
- **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö (–±—É–¥—å-—è–∫–∞)**

---

## üîó –ï–Ω–¥–ø–æ—ó–Ω—Ç–∏

### ‚ñ∂Ô∏è `POST /news`

–ü—Ä–∏–π–º–∞—î –Ω–æ–≤–∏–Ω—É —Ç–∞ –Ω–∞–¥—Å–∏–ª–∞—î —ó—ó –Ω–∞ –æ–±—Ä–æ–±–∫—É –≤ Gemini.

#### üì¶ –ü—Ä–∏–∫–ª–∞–¥ —Ç—ñ–ª–∞ –∑–∞–ø–∏—Ç—É:
Post
```http
{
    "title": "–ù–æ–≤–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª",
    "categories": ["tech", "science"],
    "imgUrl": "http://example.com/image.jpg",
    "description": "–ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å",
    "content": "–ü–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç –Ω–æ–≤–∏–Ω–∏"
}
```
Put
```json
{
    "title": "–û–Ω–æ–≤–ª–µ–Ω–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫",
    "description": "–ù–æ–≤–∏–π –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å"
}
```

## –õ–∞–± —Ä–æ–±–æ—Ç–∞ ‚Ññ2

## üß≠ –ü–æ—è—Å–Ω–µ–Ω–Ω—è –ó–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

–¶—è Mermaid-–¥—ñ–∞–≥—Ä–∞–º–∞ –æ–ø–∏—Å—É—î, —è–∫ –∫–ª–∞—Å–∏ —Ç–∞ –º–æ–¥—É–ª—ñ –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å —É –Ω–∞—à–æ–º—É –∫–æ–¥—ñ:

### 1. –í–∑–∞—î–º–æ–¥—ñ—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ AuthModule

* **`AuthController` (–ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä) –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ `AuthService` (–°–µ—Ä–≤—ñ—Å):**
    –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä –ø—Ä–∏–π–º–∞—î HTTP-–∑–∞–ø–∏—Ç–∏ (`/login`, `/signup`) —ñ –¥–µ–ª–µ–≥—É—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏ –°–µ—Ä–≤—ñ—Å—É.
* **`AuthService` –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ `UserService` —Ç–∞ `JwtService`:**
    `AuthService` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **`UserService`** –¥–ª—è –ø–æ—à—É–∫—É/—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö (–ë–î).
    `AuthService` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **`JwtService`** –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è `access_token` –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∞–±–æ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó.

### 2. –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ú–æ–¥—É–ª—ñ–≤

* **`AuthModule` —ñ–º–ø–æ—Ä—Ç—É—î `UserModule`:**
    –©–æ–± –º–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **`UserService`** –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `AuthService`, `AuthModule` –ø–æ–≤–∏–Ω–µ–Ω —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ `UserModule` (—è–∫–∏–π –µ–∫—Å–ø–æ—Ä—Ç—É—î `UserService`).
* **`AuthModule` —ñ–º–ø–æ—Ä—Ç—É—î `JwtModule`:**
    –©–æ–± –º–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **`JwtService`** –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `AuthService`, `AuthModule` —ñ–º–ø–æ—Ä—Ç—É—î `JwtModule`, —è–∫–∏–π –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ (`JWT_SECRET`) –∑ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó.

# üì∞ –û–≥–ª—è–¥ NestJS –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞ –ù–æ–≤–∏–Ω (`NewsController`)

–¶–µ–π –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –∫–µ—Ä—É—î **CRUD-–æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏** (–°—Ç–≤–æ—Ä–µ–Ω–Ω—è, –ß–∏—Ç–∞–Ω–Ω—è, –û–Ω–æ–≤–ª–µ–Ω–Ω—è, –í–∏–¥–∞–ª–µ–Ω–Ω—è) –¥–ª—è –Ω–æ–≤–∏–Ω–Ω–∏—Ö –∑–∞–ø–∏—Å—ñ–≤. –£—Å—ñ –º–∞—Ä—à—Ä—É—Ç–∏ –∑–∞—Ö–∏—â–µ–Ω—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **`JwtAuthGuard`**, —â–æ –≤–∏–º–∞–≥–∞—î –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

---

## üîí –ó–∞—Ö–∏—Å—Ç —Ç–∞ –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

| –ê—Å–ø–µ–∫—Ç | –î–µ—Ç–∞–ª—ñ |
| :--- | :--- |
| **–ë–∞–∑–æ–≤–∏–π –ú–∞—Ä—à—Ä—É—Ç** | `/news` |
| **–ó–∞—Ö–∏—Å—Ç** | `@UseGuards(JwtAuthGuard)` |
| **–°–µ—Ä–≤—ñ—Å** | `NewsServices` (–≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä) |
| **DTO/–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏** | `CreateNewsDto`, `GetQuery`, `UserPayload` |

---

## üõ†Ô∏è –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è API-–ú–∞—Ä—à—Ä—É—Ç—ñ–≤ (Endpoints)

### 1. –û—Ç—Ä–∏–º–∞–Ω–Ω—è –°–ø–∏—Å–∫—É –ù–æ–≤–∏–Ω (Read All)

* **–ú–µ—Ç–æ–¥/–®–ª—è—Ö:** `GET /`
* **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –Ω–æ–≤–∏–Ω –∑ **–ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é** —Ç–∞ **—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—î—é**.
* **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ Query:** **`GetQuery`** (–≤–∫–ª—é—á–∞—î `limit`, `page`, `categories` —Ç–æ—â–æ).
* **–õ–æ–≥—ñ–∫–∞:** –û–±—Ä–æ–±–ª—è—î –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—É, –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º, –æ—Ç—Ä–∏–º—É—î –∑–∞–≥–∞–ª—å–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å (`total`) —Ç–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –¥–∞–Ω–∏—Ö.
* **–í—ñ–¥–ø–æ–≤—ñ–¥—å:** `200 OK` (JSON –∑ `data`, `limit`, `page`, `total`).

### 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ù–æ–≤–æ–≥–æ –ó–∞–ø–∏—Å—É (Create)

* **–ú–µ—Ç–æ–¥/–®–ª—è—Ö:** `POST /`
* **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ—ó –Ω–æ–≤–∏–Ω–∏.
* **–î–∞–Ω—ñ Body:** `CreateNewsDto`.
* **–õ–æ–≥—ñ–∫–∞:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –¥–∞–Ω—ñ **–ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞** (`@GetUser()`) –¥–ª—è –≤–∫–∞–∑—ñ–≤–∫–∏ –∞–≤—Ç–æ—Ä–∞ —Ç–∞ –≤–∏–∫–ª–∏–∫–∞—î `this.newsService.createNews(...)`.
* **–í—ñ–¥–ø–æ–≤—ñ–¥—å:** `200 OK` (JSON –∑ `data` —Å—Ç–≤–æ—Ä–µ–Ω–æ—ó –Ω–æ–≤–∏–Ω–∏).

### 3. –û—Ç—Ä–∏–º–∞–Ω–Ω—è –û–¥–Ω—ñ—î—ó –ù–æ–≤–∏–Ω–∏ (Read One)

* **–ú–µ—Ç–æ–¥/–®–ª—è—Ö:** `GET /:id`
* **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –û—Ç—Ä–∏–º–∞–Ω–Ω—è –Ω–æ–≤–∏–Ω–∏ –∑–∞ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º.
* **–ü–∞—Ä–∞–º–µ—Ç—Ä Path:** `:id`
* **–õ–æ–≥—ñ–∫–∞:** –í–∏–∫–ª–∏–∫–∞—î `this.newsService.getOneNews(id)`.
* **‚ö†Ô∏è –ü—Ä–∏–º—ñ—Ç–∫–∞:** –í –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–º—É –∫–æ–¥—ñ –≤ —Ü—å–æ–º—É –º–µ—Ç–æ–¥—ñ –ø–æ–º–∏–ª–∫–æ–≤–æ –ø—Ä–∏—Å—É—Ç–Ω—ñ–π –≤–∏–∫–ª–∏–∫ `this.newsService.deleteNews(id);`.

### 4. –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ù–æ–≤–∏–Ω–∏ (Update)

* **–ú–µ—Ç–æ–¥/–®–ª—è—Ö:** `PUT /:id`
* **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ó–º—ñ–Ω–∞ –Ω–∞—è–≤–Ω–æ—ó –Ω–æ–≤–∏–Ω–∏.
* **–ü–∞—Ä–∞–º–µ—Ç—Ä Path:** `:id`
* **–î–∞–Ω—ñ Body:** `CreateNewsDto` (–ø–æ–ª—è –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è).
* **–õ–æ–≥—ñ–∫–∞:** –í–∏–∫–ª–∏–∫–∞—î `this.newsService.modifyNews(id, data)`.
* **–í—ñ–¥–ø–æ–≤—ñ–¥—å:** `200 OK`.

### 5. –í–∏–¥–∞–ª–µ–Ω–Ω—è –ù–æ–≤–∏–Ω–∏ (Delete)

* **–ú–µ—Ç–æ–¥/–®–ª—è—Ö:** `DELETE /:id`
* **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –í–∏–¥–∞–ª–µ–Ω–Ω—è –Ω–æ–≤–∏–Ω–∏ –∑–∞ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º.
* **–ü–∞—Ä–∞–º–µ—Ç—Ä Path:** `:id`
* **–õ–æ–≥—ñ–∫–∞:** –í–∏–∫–ª–∏–∫–∞—î `this.newsService.deleteNews(id)`.
* **–í—ñ–¥–ø–æ–≤—ñ–¥—å:** `200 OK`.

---

## üö® –û–±—Ä–æ–±–∫–∞ –ü–æ–º–∏–ª–æ–∫

–£—Å—ñ –º–µ—Ç–æ–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –±–ª–æ–∫ `try...catch`. –£ —Ä–∞–∑—ñ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–±–æ—é —Å–µ—Ä–≤—ñ—Å—É):

* **HTTP –°—Ç–∞—Ç—É—Å:** `502 Bad Gateway`
* **–¢—ñ–ª–æ –í—ñ–¥–ø–æ–≤—ñ–¥—ñ:** `{ "message": "BAD_GATEWAY" }`
